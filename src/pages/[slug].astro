---
import Page from '$/templates/page.svelte';
import Layout from '$/layouts/Layout.astro';

export async function getStaticPaths() {
  const allPages = Astro.fetchContent('$/data/pages/*.md');

  return allPages.map((page) => {
    return {
      params: { slug: page.slug },
      props: { page },
    };
  });
}

const { page } = Astro.props;
---

<Layout title={page.title}>
  <Page content={page} />
</Layout>
